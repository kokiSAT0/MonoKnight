# MonoKnight ゲームルール早見表

<!-- 盤面やプレイの基本的な設定を整理 -->
## 基本ルール
- ボードサイズは固定で **5×5 グリッド**。
- 初期位置はボード中央の **(2, 2)**。座標は左下を原点として扱う。
- すべてのマスを踏破するとラウンドクリア。

<!-- 手札とカードの扱いを説明 -->
## 手札と山札の管理
- 手札スロットは **最大 5 枚**。同種カードはスタックされる。
- 山札は重み付き抽選でカードを提供し、初期状態は各カードが均等重み。
- 山札からは常に先読みで **3 枚** のカードが公開される。
- 手札の全カードが使用不能になった場合は自動処理が走る。
  - 最初の手詰まりでは **手数 +5** のペナルティを自動で支払い、5 スロットすべてを即時に引き直す。
  - 直前の自動引き直し後に再び全カードが詰んだ場合は「連続詰み」とみなし、追加ペナルティなしで無料の再引き直しを繰り返す。
- プレイヤーは任意タイミングで手札を全交換することも可能。標準モードでは **手数 +5** を支払う必要がある。
  1. 画面下部の循環矢印ボタン（手動ペナルティ）を押す。
  2. 表示される確認ダイアログで支払いを承認すると、全スロットが空になり新しいカードが補充される。
  3. 自動手詰まりと同様にスタック仕様が維持され、VoiceOver などにも交換完了が通知される。
- 特定のカードスタックのみを捨て札にする操作も用意している。標準モードでは **手数 +1** のペナルティで利用できる。
  1. 画面下部のゴミ箱ボタンで「捨て札モード」に切り替えると、該当スタックを選択待ち状態になる。
  2. 捨てたいスタックをタップすると、その種類のカードだけがまとめて捨て札になり、新しいカードが同じ位置から補充される。
  3. 捨て札モード中にゴミ箱ボタンを再度押せばキャンセルできる。手札全交換とは異なり、他のスタックはそのまま残る点が特徴。

<!-- カードタイプと移動ルールに言及 -->
## カード種類と移動
- スタンダードデッキは **24 種類** のカードで構成。
  - **キング型 (周囲 1 マス移動)** が 8 種類。
  - **ナイト型 (±1, ±2)** が 8 種類。
  - **距離 2 の直線移動** が 4 種類。
  - **距離 2 の斜め移動** が 4 種類。
- カードを使用すると指定された `(dx, dy)` の移動を 1 度だけ行う。
- 移動後に盤外へ出るカードはそのターン使用不可として扱い UI で無効表示する。
- <!-- キャンペーン等で追加される選択式カードの扱いを補足 -->キャンペーンや特殊ルールではキング・ナイト系に複数候補から移動方向を選べる**選択式カード**を追加で採用する場合がある。この場合も標準 24 種との違いを明示し、`MoveCard.standardSet` には含めない構成とする。

<!-- ペナルティ条件とクリア条件を整理 -->
## ペナルティと勝利条件
- 自動手詰まりは最初の 1 回のみ手数 +5 を加算し、連続詰みでは無料で引き直す。手動操作による全交換（+5）やスタック単位の捨て札（+1）も活用し、盤外カードを解消する。
- **25 マスすべてを踏破** するとクリア。

<!-- スコア計算を明示 -->
## スコア計算
- 最終スコアは `手数 × 10 + 所要秒数` で算出。
- ペナルティによる手数加算も計算に含める。
- クリア時に Game Center ランキングへスコアを送信する。

<!-- 追加仕様や注意事項をまとめ -->
## 補足仕様
- ゲームはタイムアタック要素を含むため、プレイ時間の短縮も重要。
- ATT・UMP の同意状況に応じて広告が切り替わるが、ゲームプレイ中には広告を挿入しない。
- リザルト画面でのみインタースティシャル広告を表示し、1 プレイにつき 1 回が目安。
